/**
 * @license MeeusSunMoon v3.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */
import{DateTime as e}from"luxon";const t=e=>.017453292519943295*e,r=e=>57.29577951308232*e,n=e=>Math.sin(t(e)),o=e=>Math.cos(t(e)),s=e=>e-360*Math.floor(e/360),a=(e,t)=>{let r=1,n=0;const o=t.length;for(let s=0;s<o;s++)n+=r*t[s],r*=e;return n},u=(e,t,r,n,o=!1)=>{let s=t-e,a=r-t;void 0!==o&&o&&(s<0&&(s+=360),a<0&&(a+=360));return t+n/2*(s+a+n*(a-s))},c=t=>{t+=.5;const r=Math.floor(t),n=t-r;let o=r;if(r>=2299161){const e=Math.floor((r-1867216.25)/36524.25);o+=1+e-Math.floor(e/4)}const s=o+1524,a=Math.floor((s-122.1)/365.25),u=Math.floor(365.25*a),c=Math.floor((s-u)/30.6001),l=s-u-Math.floor(30.6001*c)+n,h=Math.floor(l),f=Math.floor(24*(l-h)),d=Math.floor(60*(24*(l-h)-f)),m=Math.floor(60*(60*(24*(l-h)-f)-d));let i=c-1;c>13&&(i-=12);let M=a-4715;return i>2&&(M-=1),e.fromISO("2000-01-01T12:00:00Z",{zone:"UTC"}).set({year:M,month:i,day:h,hour:f,minute:d,second:m})},l=t=>{return r=(t=>{let r=t.year,n=t.month;const o=t.day+(t.hour+(t.minute+t.second/60)/60)/24;n<3&&(r-=1,n+=12);const s=Math.floor(r/100);let a=0;return t>e.fromISO("1582-10-15T12:00:00Z",{zone:"UTC"})&&(a=2-s+Math.floor(s/4)),Math.floor(365.25*(r+4716))+Math.floor(30.6001*(n+1))+o+a-1524.5})(t),(r-2451545)/36525;var r},h=e=>{let t,r,n=e.year;switch(n+=(e.month-.5)/12,!0){case n<-1999||n>3e3:throw new RangeError("DeltaT can only be calculated between 1999 BCE and 3000 CE");case n<-500:return t=(n-1820)/100,32*t**2-20;case n<500:return t=n/100,a(t,[10583.6,-1014.41,33.78311,-5.952053,-.1798452,.022174192,.0090316521]);case n<1600:return t=(n-1e3)/100,a(t,[1574.2,-556.01,71.23472,.319781,-.8503463,-.005050998,.0083572073]);case n<1700:return r=n-1600,a(r,[120,-.9808,-.01532,1/7129]);case n<1800:return r=n-1700,a(r,[8.83,.1603,-.0059285,13336e-8,-1/1174e3]);case n<1860:return r=n-1800,a(r,[13.72,-.332447,.0068612,.0041116,-37436e-8,121272e-10,-1.699e-7,8.75e-10]);case n<1900:return r=n-1860,a(r,[7.62,.5737,-.251754,.01680668,-.0004473624,1/233174]);case n<1920:return r=n-1900,a(r,[-2.79,1.494119,-.0598939,.0061966,-197e-6]);case n<1941:return r=n-1920,a(r,[21.2,.84493,-.0761,.0020936]);case n<1961:return r=n-1950,a(r,[29.07,.407,-1/233,1/2547]);case n<1986:return r=n-1975,a(r,[45.45,1.067,-1/260,-1/718]);case n<2005:return r=n-2e3,a(r,[63.86,.3345,-.060374,.0017275,651814e-9,2373599e-11]);case n<2050:return r=n-2e3,a(r,[62.92,.32217,.005589]);case n<2150:return 32*((n-1820)/100)**2-20-.5628*(2150-n);default:return t=(n-1820)/100,32*t**2-20}},f=(e,t)=>{const r=(e=>e/1236.85)(e+=t/4),n=p(r),o=d(r,e),s=m(r,e),a=i(r,e),u=M(r,e),c=y(r,e);let l=0;return 0!==t&&2!==t||(l+=T(n,s,a,u,c,t)),1!==t&&3!==t||(l+=E(n,s,a,u,c,t)),l+=S(r,e),o+l},d=(e,t)=>2451550.09766+29.530588861*t+15437e-8*e**2-15e-8*e**3+7.3e-10*e**4,m=(e,t)=>2.5534+29.1053567*t-14e-7*e**2-11e-8*e**3,i=(e,t)=>201.5643+385.81693528*t+.0107582*e**2+1238e-8*e**3-58e-9*e**4,M=(e,t)=>160.7108+390.67050284*t-.0016118*e**2-227e-8*e**3+11e-9*e**4,y=(e,t)=>124.7746-1.56375588*t+.0020672*e**2+215e-8*e**3,p=e=>1-.002516*e-74e-7*e**2,S=(e,t)=>{const r=[0,299.77+.107408*t-.009173*e**2,251.88+.016321*t,251.83+26.651886*t,349.42+36.412478*t,84.66+18.206239*t,141.74+53.303771*t,207.14+2.453732*t,154.84+7.30686*t,34.52+27.261239*t,207.19+.121824*t,291.34+1.844379*t,161.72+24.198154*t,239.56+25.513099*t,331.55+3.592518*t];return 325e-6*n(r[1])+165e-6*n(r[2])+164e-6*n(r[3])+126e-6*n(r[4])+11e-5*n(r[5])+62e-6*n(r[6])+6e-5*n(r[7])+56e-6*n(r[8])+47e-6*n(r[9])+42e-6*n(r[10])+4e-5*n(r[11])+37e-6*n(r[12])+35e-6*n(r[13])+23e-6*n(r[14])},T=(e,t,r,o,s,a)=>{let u=-.00111*n(r-2*o)-57e-5*n(r+2*o)+56e-5*e*n(2*r+t)-42e-5*n(3*r)+42e-5*e*n(t+2*o)+38e-5*e*n(t-2*o)-24e-5*e*n(2*r-t)-17e-5*n(s)-7e-5*n(r+2*t)+4e-5*n(2*r-2*o)+4e-5*n(3*t)+3e-5*n(r+t-2*o)+3e-5*n(2*r+2*o)-3e-5*n(r+t+2*o)+3e-5*n(r-t+2*o)-2e-5*n(r-t-2*o)-2e-5*n(3*r+t)+2e-5*n(4*r);return 0===a&&(u+=-.4072*n(r)+.17241*e*n(t)+.01608*n(2*r)+.01039*n(2*o)+.00739*e*n(r-t)-.00514*e*n(r+t)+.00208*e*e*n(2*t)),2===a&&(u+=-.40614*n(r)+.17302*e*n(t)+.01614*n(2*r)+.01043*n(2*o)+.00734*e*n(r-t)-.00515*e*n(r+t)+.00209*e*e*n(2*t)),u},E=(e,t,r,s,a,u)=>{let c=-.62801*n(r)+.17172*e*n(t)-.01183*e*n(r+t)+.00862*n(2*r)+.00804*n(2*s)+.00454*e*n(r-t)+.00204*e*e*n(2*t)-.0018*n(r-2*s)-7e-4*n(r+2*s)-4e-4*n(3*r)-34e-5*e*n(2*r-t)+32e-5*e*n(t+2*s)+32e-5*e*n(t-2*s)-28e-5*e*e*n(r+2*t)+27e-5*e*n(2*r+t)-17e-5*n(a)-5e-5*n(r-t-2*s)+4e-5*n(2*r+2*s)-4e-5*n(r+t+2*s)+4e-5*n(r-2*t)+3e-5*n(r+t-2*s)+3e-5*n(3*t)+2e-5*n(2*r-2*s)+2e-5*n(r-t+2*s)-2e-5*n(3*r+t);const l=.00306-38e-5*e*o(t)+26e-5*o(r)-2e-5*o(r-t)+2e-5*o(r+t)+2e-5*o(2*s);return 1===u&&(c+=l),3===u&&(c-=l),c};let U=!1,C=!1,I={SUN_HIGH:"‡",SUN_LOW:"†"};const N=e=>{"boolean"==typeof e.roundToNearestMinute&&(U=e.roundToNearestMinute),"boolean"==typeof e.returnTimeForNoEventCase&&(C=e.returnTimeForNoEventCase),"object"==typeof e.dateFormatKeys&&(I=e.dateFormatKeys)},b=[357.52772,35999.05034,-1603e-7,-1/3e5],O=[280.46646,36000.76983,3032e-7],H=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],_=[93.27191,483202.017538,-.0036825,1/327270],v=[125.04452,-1934.136261,.0020708,1/45e4],Z=[134.96298,477198.867398,.0086972,1/56250],w=[297.85036,445267.11148,-.0019142,1/189474],z=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],L=(e,t,r,n,o=50/60)=>{const s=e.zone;let a=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const u=h(a),c=l(a),f=q(c),d=c-u/315576e4,m=K(d),i=B(d),M=F(t,i,o);let y,p=(m-r-f)/360;p=G(p,e.offset),y="RISE"===n?p-M/360:p+M/360;let S=0,T=1;for(;Math.abs(T)>1e-4&&S<3;)T=j(c,f,u,t,r,y,o),y+=T,S++;return a=y>0?a.plus({seconds:Math.floor(3600*y*24+.5)}):a.minus({seconds:Math.floor(3600*Math.abs(y)*24+.5)}),U&&(a=a.plus({seconds:30}).set({second:0})),a.setZone(s)},R=(e,t,r,n=0)=>{if(C){const o=e.set({hour:r,minute:n,second:0}).plus({minutes:e.isInDST?60:0});return o.errorCode=t,o}return t},F=(e,t,s)=>{const a=(n(-s)-n(e)*n(t))/(o(e)*o(t));if(a<-1)throw ae.SUN_HIGH;if(a>1)throw ae.SUN_LOW;return r(Math.acos(a))},G=(e,t)=>{const r=e+t/1440;return r<0?e+1:r>1?e-1:e},W=(e,t,r,n,o)=>{const s=t+360.985647*o,a=x(e,o+r/864e3);return-g(s,n,a)/360},j=(e,t,r,s,a,u,c)=>{const l=t+360.985647*u,h=u+r/864e3,f=x(e,h),d=D(e,h),m=g(l,a,f);return(k(s,d,m)+c)/(360*o(d)*o(s)*n(m))},g=(e,t,r)=>{let n=s(e+t-r);return n>180&&(n-=360),n},k=(e,t,s)=>r(Math.asin(n(e)*n(t)+o(e)*o(t)*o(s))),x=(e,t)=>{const r=K(e-1/36525),n=K(e),o=K(e+1/36525),a=u(r,n,o,t,!0);return s(a)},D=(e,t)=>{const r=B(e-1/36525),n=B(e),o=B(e+1/36525),a=u(r,n,o,t);return s(a)},K=e=>{const t=te(e),a=J(e)+.00256*o(t),u=Q(e),c=r(Math.atan2(o(a)*n(u),o(u)));return s(c)},B=e=>{const t=te(e),s=J(e)+.00256*o(t),a=Q(e);return r(Math.asin(n(s)*n(a)))},q=e=>{const t=A(e),r=J(e),n=t+Y(e)*o(r);return s(n)},A=e=>280.46061837+360.98564736629*(36525*e)+387933e-9*e**2-e**3/3871e4,J=e=>P(e)+$(e),P=e=>a(e/100,H),Q=e=>{const t=V(e),r=te(e);return t-.00569-.00478*n(r)},V=e=>se(e)+X(e),X=e=>{const t=oe(e);return(1.914602-.004817*e-14e-6*e**2)*n(t)+(.019993-101e-6*e)*n(2*t)+29e-5*n(3*t)},Y=e=>{const t=ne(e),r=oe(e),o=re(e),s=ee(e),a=te(e);let u,c=0;for(let l=0;l<63;l++)u=z[l][0]*t+z[l][1]*r+z[l][2]*o+z[l][3]*s+z[l][4]*a,c+=(z[l][5]+z[l][6]*e)*n(u);return c/36e6},$=e=>{const t=ne(e),r=oe(e),n=re(e),s=ee(e),a=te(e);let u,c=0;for(let l=0;l<63;l++)u=z[l][0]*t+z[l][1]*r+z[l][2]*n+z[l][3]*s+z[l][4]*a,c+=(z[l][7]+z[l][8]*e)*o(u);return c/36e6},ee=e=>{const t=a(e,_);return s(t)},te=e=>{const t=a(e,v);return s(t)},re=e=>{const t=a(e,Z);return s(t)},ne=e=>{const t=a(e,w);return s(t)},oe=e=>{const t=a(e,b);return s(t)},se=e=>{const t=a(e,O);return s(t)},ae={SUN_HIGH:"SUN_HIGH",SUN_LOW:"SUN_LOW"},ue=(e,t)=>{const r=e.errorCode;let n=e.toFormat(t);return I[r]&&(n+=I[r]),n},ce=(e,t,r)=>{try{return L(e,t,r,"RISE")}catch(t){return R(e,t,6)}},le=(e,t,r)=>{try{return L(e,t,r,"SET")}catch(t){return R(e,t,18)}},he=(e,t,r)=>{try{return L(e,t,r,"RISE",6)}catch(t){return R(e,t,5,30)}},fe=(e,t,r)=>{try{return L(e,t,r,"SET",6)}catch(t){return R(e,t,18,30)}},de=(e,t,r)=>{try{return L(e,t,r,"RISE",12)}catch(t){return R(e,t,5)}},me=(e,t,r)=>{try{return L(e,t,r,"SET",12)}catch(t){return R(e,t,19)}},ie=(e,t,r)=>{try{return L(e,t,r,"RISE",18)}catch(t){return R(e,t,4,30)}},Me=(e,t,r)=>{try{return L(e,t,r,"SET",18)}catch(t){return R(e,t,19,30)}},ye=(e,t)=>((e,t)=>{const r=e.zone;let n=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const o=h(n),s=l(n),a=q(s);let u=(K(s-o/315576e4)-t-a)/360;return u=G(u,e.offset),u+=W(s,a,o,t,u),n=n.plus({seconds:Math.floor(3600*u*24+.5)}),U&&(n=n.plus({seconds:30}).set({second:0})),n.setZone(r)})(e,t),pe=(t,r,n="UTC")=>{const o=e.fromObject({year:t,month:1,day:1,hour:0,minute:0,second:0},{zone:n}),s=e.fromObject({year:t+1,month:1,day:1,hour:0,minute:0,second:0},{zone:n});let a=Math.floor(12.3685*((u=o).year+u.month/12+u.day/365.25-2e3))-1;var u;const l=[];let d,m,i;for(let e=0;e<15;e++)d=f(a,r),m=c(d).setZone(n),i=h(m),m=i>0?m.minus({seconds:Math.round(Math.abs(i))}):m.plus({seconds:Math.round(Math.abs(i))}),U&&(m=m.plus({seconds:30}).set({second:0})),m>=o&&m<s&&l.push(m),a++;return l},Se=(e,t="UTC")=>[...pe(e,0,t).map(e=>({datetime:e,phase:0})),...pe(e,1,t).map(e=>({datetime:e,phase:1})),...pe(e,2,t).map(e=>({datetime:e,phase:2})),...pe(e,3,t).map(e=>({datetime:e,phase:3}))].sort((e,t)=>e.datetime.valueOf()-t.datetime.valueOf());export{ie as astronomicalDawn,Me as astronomicalDusk,he as civilDawn,fe as civilDusk,ue as format,de as nauticalDawn,me as nauticalDusk,N as settings,ye as solarNoon,ce as sunrise,le as sunset,Se as yearAllMoonPhases,pe as yearMoonPhases};
//# sourceMappingURL=meeussunmoon.min.mjs.map
