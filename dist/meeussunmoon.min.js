/**
 * @license MeeusSunMoon v3.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("luxon")):"function"==typeof define&&define.amd?define(["exports","luxon"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).MeeusSunMoon={},e.luxon)}(this,(function(e,t){"use strict";const o=e=>.017453292519943295*e,r=e=>57.29577951308232*e,n=e=>Math.sin(o(e)),a=e=>Math.cos(o(e)),s=e=>e-360*Math.floor(e/360),u=(e,t)=>{let o=1,r=0;const n=t.length;for(let a=0;a<n;a++)r+=o*t[a],o*=e;return r},c=(e,t,o,r,n=!1)=>{let a=t-e,s=o-t;void 0!==n&&n&&(a<0&&(a+=360),s<0&&(s+=360));return t+r/2*(a+s+r*(s-a))},l=e=>{e+=.5;const o=Math.floor(e),r=e-o;let n=o;if(o>=2299161){const e=Math.floor((o-1867216.25)/36524.25);n+=1+e-Math.floor(e/4)}const a=n+1524,s=Math.floor((a-122.1)/365.25),u=Math.floor(365.25*s),c=Math.floor((a-u)/30.6001),l=a-u-Math.floor(30.6001*c)+r,h=Math.floor(l),i=Math.floor(24*(l-h)),M=Math.floor(60*(24*(l-h)-i)),f=Math.floor(60*(60*(24*(l-h)-i)-M));let d=c-1;c>13&&(d-=12);let p=s-4715;return d>2&&(p-=1),t.DateTime.fromISO("2000-01-01T12:00:00Z",{zone:"UTC"}).set({year:p,month:d,day:h,hour:i,minute:M,second:f})},h=e=>((e=>{let o=e.year,r=e.month;const n=e.day+(e.hour+(e.minute+e.second/60)/60)/24;r<3&&(o-=1,r+=12);const a=Math.floor(o/100);let s=0;return e>t.DateTime.fromISO("1582-10-15T12:00:00Z",{zone:"UTC"})&&(s=2-a+Math.floor(a/4)),Math.floor(365.25*(o+4716))+Math.floor(30.6001*(r+1))+n+s-1524.5})(e)-2451545)/36525,i=e=>{let t,o,r=e.year;switch(r+=(e.month-.5)/12,!0){case r<-1999||r>3e3:throw new RangeError("DeltaT can only be calculated between 1999 BCE and 3000 CE");case r<-500:return t=(r-1820)/100,32*Math.pow(t,2)-20;case r<500:return t=r/100,u(t,[10583.6,-1014.41,33.78311,-5.952053,-.1798452,.022174192,.0090316521]);case r<1600:return t=(r-1e3)/100,u(t,[1574.2,-556.01,71.23472,.319781,-.8503463,-.005050998,.0083572073]);case r<1700:return o=r-1600,u(o,[120,-.9808,-.01532,1/7129]);case r<1800:return o=r-1700,u(o,[8.83,.1603,-.0059285,13336e-8,-1/1174e3]);case r<1860:return o=r-1800,u(o,[13.72,-.332447,.0068612,.0041116,-37436e-8,121272e-10,-1.699e-7,8.75e-10]);case r<1900:return o=r-1860,u(o,[7.62,.5737,-.251754,.01680668,-.0004473624,1/233174]);case r<1920:return o=r-1900,u(o,[-2.79,1.494119,-.0598939,.0061966,-197e-6]);case r<1941:return o=r-1920,u(o,[21.2,.84493,-.0761,.0020936]);case r<1961:return o=r-1950,u(o,[29.07,.407,-1/233,1/2547]);case r<1986:return o=r-1975,u(o,[45.45,1.067,-1/260,-1/718]);case r<2005:return o=r-2e3,u(o,[63.86,.3345,-.060374,.0017275,651814e-9,2373599e-11]);case r<2050:return o=r-2e3,u(o,[62.92,.32217,.005589]);case r<2150:return 32*Math.pow((r-1820)/100,2)-20-.5628*(2150-r);default:return t=(r-1820)/100,32*Math.pow(t,2)-20}};let M=!1,f=!1,d={SUN_HIGH:"‡",SUN_LOW:"†"};const p=[357.52772,35999.05034,-1603e-7,-1/3e5],m=[280.46646,36000.76983,3032e-7],y=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],w=[93.27191,483202.017538,-.0036825,1/327270],T=[125.04452,-1934.136261,.0020708,1/45e4],S=[134.96298,477198.867398,.0086972,1/56250],b=[297.85036,445267.11148,-.0019142,1/189474],E=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],U=(e,t,o,r,n=50/60)=>{const a=e.zone;let s=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const u=i(s),c=h(s),l=L(c),f=c-u/315576e4,d=x(f),p=z(f),m=C(t,p,n);let y,w=(d-o-l)/360;w=D(w,e.offset),y="RISE"===r?w-m/360:w+m/360;let T=0,S=1;for(;Math.abs(S)>1e-4&&T<3;)S=O(c,l,u,t,o,y,n),y+=S,T++;return s=y>0?s.plus({seconds:Math.floor(3600*y*24+.5)}):s.minus({seconds:Math.floor(3600*y*24+.5)}),M&&(s=s.plus({seconds:30}).set({second:0})),s.setZone(a)},N=(e,t,o,r=0)=>{if(f){const n=e.set({hour:o,minute:r,second:0}).plus({minutes:e.isInDST?60:0});return n.errorCode=t,n}return t},C=(e,t,o)=>{const s=(n(-o)-n(e)*n(t))/(a(e)*a(t));if(s<-1)throw V.SUN_HIGH;if(s>1)throw V.SUN_LOW;return r(Math.acos(s))},D=(e,t)=>{const o=e+t/1440;return o<0?e+1:o>1?e-1:e},I=(e,t,o,r,n)=>{const a=t+360.985647*n,s=H(e,n+o/864e3);return-_(a,r,s)/360},O=(e,t,o,r,s,u,c)=>{const l=t+360.985647*u,h=u+o/864e3,i=H(e,h),M=Z(e,h),f=_(l,s,i);return(v(r,M,f)+c)/(360*a(M)*a(r)*n(f))},_=(e,t,o)=>{let r=s(e+t-o);return r>180&&(r-=360),r},v=(e,t,o)=>r(Math.asin(n(e)*n(t)+a(e)*a(t)*a(o))),H=(e,t)=>{const o=x(e-1/36525),r=x(e),n=x(e+1/36525),a=c(o,r,n,t,!0);return s(a)},Z=(e,t)=>{const o=z(e-1/36525),r=z(e),n=z(e+1/36525),a=c(o,r,n,t);return s(a)},x=e=>{const t=q(e),o=g(e)+.00256*a(t),u=k(e),c=r(Math.atan2(a(o)*n(u),a(u)));return s(c)},z=e=>{const t=q(e),o=g(e)+.00256*a(t),s=k(e);return r(Math.asin(n(o)*n(s)))},L=e=>{const t=R(e),o=g(e),r=t+W(e)*a(o);return s(r)},R=e=>280.46061837+360.98564736629*(36525*e)+387933e-9*Math.pow(e,2)-Math.pow(e,3)/3871e4,g=e=>j(e)+P(e),j=e=>u(e/100,y),k=e=>{const t=F(e),o=q(e);return t-.00569-.00478*n(o)},F=e=>Q(e)+G(e),G=e=>{const t=J(e);return(1.914602-.004817*e-14e-6*Math.pow(e,2))*n(t)+(.019993-101e-6*e)*n(2*t)+29e-5*n(3*t)},W=e=>{const t=B(e),o=J(e),r=A(e),a=K(e),s=q(e);let u,c=0;for(let l=0;l<63;l++)u=E[l][0]*t+E[l][1]*o+E[l][2]*r+E[l][3]*a+E[l][4]*s,c+=(E[l][5]+E[l][6]*e)*n(u);return c/36e6},P=e=>{const t=B(e),o=J(e),r=A(e),n=K(e),s=q(e);let u,c=0;for(let l=0;l<63;l++)u=E[l][0]*t+E[l][1]*o+E[l][2]*r+E[l][3]*n+E[l][4]*s,c+=(E[l][7]+E[l][8]*e)*a(u);return c/36e6},K=e=>{const t=u(e,w);return s(t)},q=e=>{const t=u(e,T);return s(t)},A=e=>{const t=u(e,S);return s(t)},B=e=>{const t=u(e,b);return s(t)},J=e=>{const t=u(e,p);return s(t)},Q=e=>{const t=u(e,m);return s(t)},V={SUN_HIGH:"SUN_HIGH",SUN_LOW:"SUN_LOW"},X=(e,t)=>{const o=(e=>e/1236.85)(e+=t/4),r=re(o),n=Y(o,e),a=$(o,e),s=ee(o,e),u=te(o,e),c=oe(o,e);let l=0;return 0===t||2===t?l+=ae(r,a,s,u,c,t):1!==t&&3!==t||(l+=se(r,a,s,u,c,t)),l+=ne(o,e),n+l},Y=(e,t)=>2451550.09766+29.530588861*t+15437e-8*Math.pow(e,2)-15e-8*Math.pow(e,3)+7.3e-10*Math.pow(e,4),$=(e,t)=>2.5534+29.1053567*t-14e-7*Math.pow(e,2)-11e-8*Math.pow(e,3),ee=(e,t)=>201.5643+385.81693528*t+.0107582*Math.pow(e,2)+1238e-8*Math.pow(e,3)-58e-9*Math.pow(e,4),te=(e,t)=>160.7108+390.67050284*t-.0016118*Math.pow(e,2)-227e-8*Math.pow(e,3)+11e-9*Math.pow(e,4),oe=(e,t)=>124.7746-1.56375588*t+.0020672*Math.pow(e,2)+215e-8*Math.pow(e,3),re=e=>1-.002516*e-74e-7*Math.pow(e,2),ne=(e,t)=>{const o=[0,299.77+.107408*t-.009173*Math.pow(e,2),251.88+.016321*t,251.83+26.651886*t,349.42+36.412478*t,84.66+18.206239*t,141.74+53.303771*t,207.14+2.453732*t,154.84+7.30686*t,34.52+27.261239*t,207.19+.121824*t,291.34+1.844379*t,161.72+24.198154*t,239.56+25.513099*t,331.55+3.592518*t];return 325e-6*n(o[1])+165e-6*n(o[2])+164e-6*n(o[3])+126e-6*n(o[4])+11e-5*n(o[5])+62e-6*n(o[6])+6e-5*n(o[7])+56e-6*n(o[8])+47e-6*n(o[9])+42e-6*n(o[10])+4e-5*n(o[11])+37e-6*n(o[12])+35e-6*n(o[13])+23e-6*n(o[14])},ae=(e,t,o,r,a,s)=>{let u=-.00111*n(o-2*r)-57e-5*n(o+2*r)+56e-5*e*n(2*o+t)-42e-5*n(3*o)+42e-5*e*n(t+2*r)+38e-5*e*n(t-2*r)-24e-5*e*n(2*o-t)-17e-5*n(a)-7e-5*n(o+2*t)+4e-5*n(2*o-2*r)+4e-5*n(3*t)+3e-5*n(o+t-2*r)+3e-5*n(2*o+2*r)-3e-5*n(o+t+2*r)+3e-5*n(o-t+2*r)-2e-5*n(o-t-2*r)-2e-5*n(3*o+t)+2e-5*n(4*o);return 0===s?u+=-.4072*n(o)+.17241*e*n(t)+.01608*n(2*o)+.01039*n(2*r)+.00739*e*n(o-t)-.00514*e*n(o+t)+.00208*e*e*n(2*t):2===s&&(u+=-.40614*n(o)+.17302*e*n(t)+.01614*n(2*o)+.01043*n(2*r)+.00734*e*n(o-t)-.00515*e*n(o+t)+.00209*e*e*n(2*t)),u},se=(e,t,o,r,s,u)=>{let c=-.62801*n(o)+.17172*e*n(t)-.01183*e*n(o+t)+.00862*n(2*o)+.00804*n(2*r)+.00454*e*n(o-t)+.00204*e*e*n(2*t)-.0018*n(o-2*r)-7e-4*n(o+2*r)-4e-4*n(3*o)-34e-5*e*n(2*o-t)+32e-5*e*n(t+2*r)+32e-5*e*n(t-2*r)-28e-5*e*e*n(o+2*t)+27e-5*e*n(2*o+t)-17e-5*n(s)-5e-5*n(o-t-2*r)+4e-5*n(2*o+2*r)-4e-5*n(o+t+2*r)+4e-5*n(o-2*t)+3e-5*n(o+t-2*r)+3e-5*n(3*t)+2e-5*n(2*o-2*r)+2e-5*n(o-t+2*r)-2e-5*n(3*o+t);const l=.00306-38e-5*e*a(t)+26e-5*a(o)-2e-5*a(o-t)+2e-5*a(o+t)+2e-5*a(2*r);return 1===u?c+=l:3===u&&(c-=l),c},ue=(e,o,r="UTC")=>{const n=t.DateTime.fromObject({year:e,month:1,day:1,hour:0,minute:0,second:0,zone:r}),a=t.DateTime.fromObject({year:e+1,month:1,day:1,hour:0,minute:0,second:0,zone:r});let s=Math.floor(12.3685*((u=n).year+u.month/12+u.day/365.25-2e3))-1;var u;const c=[];let h,f,d;for(let e=0;e<15;e++)h=X(s,o),f=l(h).setZone(r),d=i(f),f=d>0?f.minus({seconds:Math.round(Math.abs(d))}):f.plus({seconds:Math.round(Math.abs(d))}),M&&(f=f.plus({seconds:30}).set({second:0})),f>=n&&f<a&&c.push(f),s++;return c};e.astronomicalDawn=(e,t,o)=>{try{return U(e,t,o,"RISE",18)}catch(t){return N(e,t,4,30)}},e.astronomicalDusk=(e,t,o)=>{try{return U(e,t,o,"SET",18)}catch(t){return N(e,t,19,30)}},e.civilDawn=(e,t,o)=>{try{return U(e,t,o,"RISE",6)}catch(t){return N(e,t,5,30)}},e.civilDusk=(e,t,o)=>{try{return U(e,t,o,"SET",6)}catch(t){return N(e,t,18,30)}},e.format=(e,t)=>{const o=e.errorCode;let r=e.toFormat(t);return d[o]&&(r+=d[o]),r},e.nauticalDawn=(e,t,o)=>{try{return U(e,t,o,"RISE",12)}catch(t){return N(e,t,5)}},e.nauticalDusk=(e,t,o)=>{try{return U(e,t,o,"SET",12)}catch(t){return N(e,t,19)}},e.settings=e=>{"boolean"==typeof e.roundToNearestMinute&&(M=e.roundToNearestMinute),"boolean"==typeof e.returnTimeForNoEventCase&&(f=e.returnTimeForNoEventCase),"object"==typeof e.dateFormatKeys&&(d=e.dateFormatKeys)},e.solarNoon=(e,t)=>((e,t)=>{const o=e.zone;let r=e.set({hour:0,minute:0,second:0,millisecond:0}).setZone("UTC",{keepLocalTime:!0});const n=i(r),a=h(r),s=L(a);let u=(x(a-n/315576e4)-t-s)/360;return u=D(u,e.offset),u+=I(a,s,n,t,u),r=r.plus({seconds:Math.floor(3600*u*24+.5)}),M&&(r=r.plus({seconds:30}).set({second:0})),r.setZone(o)})(e,t),e.sunrise=(e,t,o)=>{try{return U(e,t,o,"RISE")}catch(t){return N(e,t,6)}},e.sunset=(e,t,o)=>{try{return U(e,t,o,"SET")}catch(t){return N(e,t,18)}},e.yearAllMoonPhases=(e,t="UTC")=>[...ue(e,0,t).map(e=>({datetime:e,phase:0})),...ue(e,1,t).map(e=>({datetime:e,phase:1})),...ue(e,2,t).map(e=>({datetime:e,phase:2})),...ue(e,3,t).map(e=>({datetime:e,phase:3}))].sort((e,t)=>e.datetime.valueOf()-t.datetime.valueOf()),e.yearMoonPhases=ue,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=meeussunmoon.min.js.map
